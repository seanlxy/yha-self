/*! YHA 2018-03-16 */
!function(a,b,c){function d(){var a="header__nav-toggler--active",d="header__nav--shown",e=(window.location.hash,"menu-active"),f="menu-toggle",g=".header__nav-link, .header__nav-sub-menu-link",h=function(){c(g);c(window).width()<992?c(g).addClass(f):c(g).hasClass(f)&&c("."+f).removeClass(f)};h(),c(window).on("resize",function(){h()}),c(b).on("click",".header__nav-toggler",function(b){b.preventDefault();var e=c(this),f=e.attr("href"),g="";e.hasClass(a)?(c("body").removeClass("no-scroll"),e.removeClass(a),c(f).removeClass(d)):(c("body").addClass("no-scroll"),e.addClass(a),c(f).addClass(d),g=f),window.location.hash=g}).on("click","."+f,function(a){a.preventDefault(),c(this).parents("li").addClass(e)}).on("click",".header__nav-sub-menu-back",function(a){a.preventDefault(),c(this).closest("."+e).removeClass(e)})}function e(){c(b).on("click",".toggle-elm",function(a){a.preventDefault();var b=c(this),d=b.attr("href"),e=b.attr("data-active-block");b.toggleClass(e),c(d).toggleClass("hidden")})}function f(a,d){d||(d="href"),c(b).on("click",a,function(a){a.preventDefault();var b=c(this),e=b.attr(d);if("#"===e)c("html, body").delay(150).animate({scrollTop:0},{duration:300,easing:"swing"});else{var f=c(e);if(f.length>0){var g=f.offset().top-150;c("html, body").delay(150).animate({scrollTop:g},{duration:300,easing:"swing"})}}})}function g(a){if("string"!=typeof a)return console.error("selector is required for initPageGallery"),!1;var d=c(".banner-gallery__slide"),e=[];d.each(function(a,b){e.push({href:c(b).attr("href")})}),c(b).on("click",a,function(a){a.preventDefault(),c.swipebox(e)})}a.initSlickSlideshow=function(a,b){var d={dots:!1,arrows:!0,autoplay:!0,infinite:!0,speed:500,autoplaySpeed:4e3,fade:!0,cssEase:"linear",prevArrow:'<a href="#" class="slider__nav slider__nav--prev"><i class="fa fa-angle-left"></i></a>',nextArrow:'<a href="#" class="slider__nav slider__nav--next"><i class="fa fa-angle-right"></i></a>'};return b=c.extend(!0,d,b),c(a).slick(b)},a.initSlickCarousel=function(a,b){a||(a=".carousel");var d={dots:!1,arrows:!0,autoplay:!1,infinite:!0,speed:500,prevArrow:'<a href="#" class="carousel__nav carousel__nav--prev"><i class="fa fa-angle-left"></i></a>',nextArrow:'<a href="#" class="carousel__nav carousel__nav--next"><i class="fa fa-angle-right"></i></a>'};return b=c.extend(!0,d,b),c(a).slick(b)},a.initDatepicker=function(a,b){if("string"!=typeof a)return console.error("selector is require for initDatepicker method"),!1;var d={format:"DD/MM/YYYY",minDate:new Date};b=c.extend(!0,d,b),c(a).each(function(a,d){b.field=d,c(d).attr("autocomplete","off");new Pikaday(b)})},a.initTooltip=function(a){var d="tooltip",e="."+d;c(b).on("mouseover",a,function(a){var b=c(this),e=b.data("tooltip");if(e){c('<div class="'+d+'">'+e+"</div>").appendTo("body")}}).on("mouseleave",a,function(){c(e).remove()}).on("mousemove",a,function(a){var b=a.pageX,d=a.pageY;c(e).css({top:d-50,left:b-c(e).width()/2})})},a.initSwipeBox=function(a,b){if("string"!=typeof a)return console.error("selector is required for initSwipeBox"),!1;var d={selector:a};b=c.extend(!0,d,b),c(a).swipebox(b)},a.initSlickSlider=function(a,b){a||(a=".gallery_slider");var d={dots:!1,arrows:!0,autoplay:!1,infinite:!0,speed:500,prevArrow:'<a href="#" class="gallery-slider__nav gallery-slider__nav--prev"><i class="fa fa-angle-left"></i></a>',nextArrow:'<a href="#" class="gallery-slider__nav gallery-slider__nav--next"><i class="fa fa-angle-right"></i></a>'};return b=c.extend(!0,d,b),c(a).slick(b)},a.initScrollToSection=function(a){c(a).click(function(a){a.preventDefault();var b=c(this).attr("href"),d=c(b).offset().top,e=parseInt(d)-120;c("html, body").animate({scrollTop:e},1500)})},a.initFolded=function(a,b){c(a).click(function(a){a.preventDefault();var d=c(this),e=c(b).is(":visible")?d.data("more"):d.data("less");d.closest("div").find(b).toggleClass("hide"),d.text(e)})},a.initIframeOverlay=function(a){c(a).click(function(a){a.preventDefault();var b=c(this),d=b.attr("href"),e="overlay__close",f=c('<div id="overlay" class="overlay"><a href="#" class="'+e+'">&times;</a><div class="overlay__content"><iframe src="'+d+'"  class="overlay__iframe" frameBorder="0"></iframe></div></div>');b.after(f),f.show(),c("."+e).click(function(a){a.preventDefault(),f.remove()})})},a.initStopScroll=function(a,b,d){var e=c(a);if(1==e.length){var f=c(window),g=c(b).position(),h=g.top-500;f.scroll(function(a){f.scrollTop()>h?e.css({position:"absolute",top:h}):e.css({position:"fixed",top:d})})}},a.app={},a.app.init=function(){d(),e(),initSlickSlideshow(".banner__slider"),initSlickCarousel(".carousel"),f(".footer__lower__scroll-btn"),initSwipeBox(".swipebox"),g(".banner__gallery--btn"),initTooltip("[data-tooltip]"),initDatepicker(".has-datepicker"),initSlickSlider(".gallery-slider"),initScrollToSection(".scroll-content"),initFolded(".folded__link",".folded__content"),initIframeOverlay(".overlay__open"),initStopScroll(".sidebar",".bottom__content",70),initGoogleMap("map-canvas",{lat:-43.530813,lng:172.627921,zoom:18,title:"YHA Christchurch",infoWindowContent:"<h6>5 Worcester Boulevard Christchurch</h6>"}),initSlickCarousel(".gallery",{slidesToShow:4,prevArrow:"",nextArrow:""})}}(window,document,jQuery);